# Algorithm

## 面对算法问题思路

- 你会如何对一组数据进行排序？

第一想法：快速排序算法 O(nlogn)

- 深入思考：这组数据有什么样的特征？
  - 有没有可能包含有大量重复的元素？
    - 如果有这种可能的话，三路快排是更好的选择。
  - 是否大部分数据距离它正确的位置很近？是否近乎有序？（如：时间记录，发生早但记录晚，导致顺序问题）
    - 如果是这样的话，插入排序是更好的选择。
  - 是否数据的取值范围非常有限？（如：学生成绩排序，分数的取值0~100左右）
    - 如果是这样的话，计数排序是更好的选择。
  - 额外要求：是都需要稳定排序？
    - 如果是的话，归并排序是更好的选择。
  - 数据的存储状况是怎么样的：是否是使用链表存储的？
    - 如果是的话，归并排序是更好的选择。
  - 数据的存储状况是怎么样的：数据的大小是否可以装载在内存里？
    - 数据量很大，或者内存很小，不足以装载在内存里，需要使用外排序算法。

优化算法思路：
  - 空间和时间的交换（哈希表）
  - 预处理信息（排序）
  - 在瓶颈出寻找答案：O(nlogn)+O(n^2); O(n^3)

## 时间复杂度

- n 表示数据规模
- O(f(n))表示运行算法所需要执行的指令数，和f(n)成正比

- 举例：(a、b、c、d 皆是常数)
- 二分查找法 O(logn)            所需执行指令数：a*logn
- 寻找数组中的最大/最小值 O(n)   所需执行指令数：b*n
- 归并排序算法 O(nlogn)         所需执行数：c*nlogn
- 选择排序法 O(n^2)             所需指令数：d*n^2


算法A: O(n)   所需执行指令数：10000*n

算法B: O(n^2) 所需执行指令数：10*n^2

| n | A指令数 10000n | B指令数 10n^2 | 倍数 |
|-|-|-|-|
|10|10^5|10^3|100|
|100|10^6|10^5|10|
|1000|10^7|10^7|1|
|10000|10^8|10^9|0.1|
|10^5|10^9|10^11|0.01|
|10^6|10^10|10^13|0.001|

对应不同复杂度的函数，随着输入数据n规模的增大，操作增长数是不同的；
![时间复杂度](/blogs/image/data/algorithm/1.png)

### 示例：一个时间复杂度的问题

有一个字符串数组，将数组中的每一个字符串按照字母序排序；之后再将整个字符串数组按照字典序排序。整个操作的时间复杂度？

思路：

- 假设最长的字符串长度为s; 数组中有n个字符串;
- 对每个字符串排序：O(slogs);
- 将数组中的每一个字符串按照字母序排序：O(n*slog(s));
- 将整个字符串数组按照字典序排序：O(s*nlog(n));

结果：

O(n\*slog(s)) + O(s\*nlog(n)) = O(n\*s\*logs + s\*n\*logn) = O(n\*s\*(logs+logn))

## 算法复杂度在有些情况和用例相关

|插入排序算法 O(n^2)|快速排序算法 O(nlogn)|
|-|-|
|最差情况：O(n^2)|最差情况：O(n^2)|
|最好情况：O(n)|最好情况：O(nlogn)|
|平均情况：O(n^2)|平均情况：O(nlogn)|