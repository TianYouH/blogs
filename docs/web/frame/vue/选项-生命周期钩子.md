# 选项-生命周期钩子

<img :src="$withBase('/image/web/vue/选项-生命周期钩子1.png')" alt="图片">

## 版本对比

| vue 1.0+ | vue 2.0+ | vue 3.0+ | 描述 |
| - | - | - | - |
| init | beforeCreate | - | 组件实例刚被创建，组件属性计算之前，如 data 属性等 |
| created | created | setup() | 组件实例创建完成，属性已绑定，但 DOM 还未生成，$el 属性还不存在 |
| beforeCompile | beforeMount | - | 在挂载开始之前被调用：相关的 render 函数首次被调用 |
| compiled | - | - | 模板编译/挂载之后（但是不担保 $el 已插入文档） |
| ready | mounted | onMounted | 模板编译/挂载之后 |
| - | beforeUpdate | onBeforeUpdate | 组件更新之前 |
| - | updated | onUpdated | 组件更新之后 |
| - | activated |  | 被 keep-alive 缓存的组件激活时调用 |
| - | deactivated |  | 被 keep-alive 缓存的组件失活时调用 |
| attached | - |  | 在 vm.$el 插入 DOM 时调用。 |
| detached | - |  | 在 vm.$el 从 DOM 中删除时调用。 |
| beforeDestroy | beforeDestroy | onBeforeUnmount | 实例销毁之前调用。在这一步，实例仍然完全可用 |
| destroyed | destroyed | onUnmounted | 实例销毁后调用 |

## 父子组件生命周期调用顺序

创建由外到内

渲染由内到外

1. 先创建父组件js模型
2. 在创建子组件js模型
3. 在渲染子组件
4. 在渲染父组件

父（created）-> 子（created）-> 子（mounted）-> 父（mounted）->  

更新由外到内

更新结束由内到外

1. 先更新父组件（触发父组件事件，改变父组件数据）
2. 在更新子组件（子组件有引用你父组件被改变数据）
3. 先更新完子组件
4. 在更新完父组件

父（beforeUpdate）-> 子（beforeUpdate）-> 子（updated）-> 父（updated）->



> ref：  
> [vue生命周期图示中英文版Vue实例生命周期钩子](https://www.cnblogs.com/zdz8207/p/vue-lifecycle.html)